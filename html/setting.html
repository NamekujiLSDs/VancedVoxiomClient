<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VVC - Settings</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c&display=swap" rel="stylesheet">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
</head>

<body>
    <h2>Settings</h2>
    <div id="box">
        <table class="sets">
            <thead>
            <tbody>
                <tr>
                    <th>Custom CSS <br>
                        <!-- <div class="req">*Require reload</div> -->
                    </th>
                    <td>
                        <textarea type="textarea" name="customCSS" id="customCSS"
                            onchange="window.vvc.setting(this.id, this.value)">
                        </textarea>
                    </td>
                </tr>
                <tr>
                    <th>Unlimited FPS<br>
                        <div class="req">*Require restart</div>
                    </th>
                    <td>
                        <input type="checkbox" name="unlimitedFps" id="unlimitedFps"
                            onchange="window.vvc.setting(this.id, this.checked)">
                    </td>
                </tr>
                <tr>
                    <th>Resource Swapper<br>
                        <div class="req">*Require restart</div>
                    </th>
                    <td>
                        <input type="checkbox" name="swapper" id="swapper"
                            onchange="window.vvc.setting(this.id, this.checked)">
                    </td>
                </tr>
                <tr>
                    <th>AngleBackendType<br>
                        <div class="req">*Require restart</div>
                    </th>
                    <td>
                        <select type="select" name="angleType" id="angleType"
                            onchange="window.vvc.setting(this.id, this.value)">
                            <option value="default">Default</option>
                            <option value="opengl">OpenGL</option>
                            <option value="Vulkan">Vulkan</option>
                            <option value="D3D9l">D3D9</option>
                            <option value="D3D11">D3D11</option>
                            <option value="D3D11onD12">D3D11onD12</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <th>Join game</th>
                    <td>
                        <input type="url" name="joinUrl" id="joinUrl">
                        <input type="button" id="joinGame" value="join" onclick="joinGame()">
                    </td>
                </tr>
                <tr>
                    <th>Invite link</th>
                    <td>
                        <input type="button" id="inv" value="Get Link">
                        <input type="text" name="invLink" id="invLink" onfocus="this.select()" disabled>
                    </td>
                </tr>
                <tr>
                    <th>
                        Reload Page
                    </th>
                    <td>
                        <input type="button" value="reload" id="reload" onclick="window.vvc.reload()">
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <script>
        const joinGame = () => {
            let url = document.getElementById("joinUrl").value;
            console.log(url);
            window.vvc.joinGame(url);
        }
        document.querySelector('#inv').addEventListener('click', async () => {
            const b = await window.vvc.invite()
            const v = b
            document.getElementById("invLink").value = v
        })
    </script>
</body>

</html>